= link_to t(".new"),  new_dashboard_course_lesson_path(course)
= link_to t(".home"), dashboard_course_homeworks_path(course)
= link_to t(".course"), dashboard_courses_path

%h1 #{t(".text")}
.lessons
  = form_with url: edit_order_dashboard_course_lessons_path(course), local: true do
    = submit_tag t(".order")
    %ul
      - @lessons.each do |lesson|
        %li{:class => "#{cycle('lesson-odd', 'lesson-even')}"}
          - if lesson.draft?
            %p The lesson is in drafts
          = link_to lesson.title, dashboard_course_lesson_path(course, lesson)
          - if lesson.share_key.present?
            = lesson.share_key
          - else
            - if can? :share_lesson, lesson
              = link_to "Share", dashboard_course_lesson_shares_path(course, lesson), method: :post
          = link_to t(".edit"), edit_dashboard_course_lesson_path(course, lesson)
          = link_to t(".delete"), dashboard_course_lesson_path(course, lesson), method: :delete, data: { confirm: "Are you sure?" }

= paginate @lessons
